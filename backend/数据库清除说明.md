# 数据库清除说明

## 清除脚本使用方法

我已经为您创建了一个安全的数据库清除脚本 `clear-database.js`。

### 使用方法

```bash
cd backend
node clear-database.js [选项]
```

### 可用选项

- `1` - 清除所有作品数据 (products表)
- `2` - 清除所有文章数据 (articles表)  
- `3` - 清除所有用户数据 (users表)
- `4` - 清除所有数据 (包括用户、作品、文章)
- `5` - 仅清除测试数据 (status=false的数据)
- `help` - 显示帮助信息

### 示例命令

```bash
# 清除所有数据
node clear-database.js 4

# 只清除作品数据
node clear-database.js 1

# 查看帮助
node clear-database.js help
```

## 当前状态

✅ **数据库已成功清除**

清除前的数据统计：
- 用户数量: 1
- 作品数量: 1  
- 文章数量: 2

清除后的数据统计：
- 用户数量: 0
- 作品数量: 0
- 文章数量: 0

## 注意事项

1. **备份数据**: 清除操作不可逆，请确保已备份重要数据
2. **权限确认**: 确保数据库用户有删除权限
3. **服务重启**: 清除后建议重启后端服务确保缓存清理

## 安全特性

- 脚本会先显示当前数据统计，确认后再执行清除
- 支持选择性清除，不必删除所有数据
- 自动关闭数据库连接，避免连接泄漏
- 提供详细的操作日志和错误处理

## 文件位置

脚本位置: `/backend/clear-database.js`
配置文件: `/backend/.env`
数据库配置: `/backend/config/database.js`